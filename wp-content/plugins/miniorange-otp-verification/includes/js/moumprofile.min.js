var button='<input class="um-button um-alt um-col-alt" id="mo_um_accup_button" type="button" onClick="sendOTP()" value="'+moumacvar.buttonText+'" ></input>';var img="<img src='"+moumacvar.imgURL+"'>";var html=button+"<div id='mo_message' hidden='' style='background-color: #f7f6f7;padding: 1em 2em 1em 3.5em;'>"+img+"</div>";var otp_field=html+'<div   class="um-field um-field-text um-field-type_text um-acc-otp" data-key="'+moumacvar.formKey+'"><div class="um-field-label"><label for="verify_field">Enter OTP here</label><div class="um-clear"></div></div><div class="um-field-area"><input autocomplete="off" class="um-form-field valid " type="text" name="'+moumacvar.formKey+'" id="verify_field" placeholder="" data-validate="" data-key="'+moumacvar.formKey+'"></div></div>';function sendOTP(){var c=$mo(".um-account [id^=user_email]").val();var b=$mo(".um-profile [id^="+moumacvar.phoneKey+"]").val();$mo("#mo_message").empty(),$mo("#mo_message").append(img),$mo("#mo_message").show();var a=$mo(".um-account").length?moumacvar.emailOtpType:($mo(".um-profile").length?moumacvar.phoneOtpType:"none");$mo.ajax({url:moumacvar.siteURL+"/?option=miniorange-um-acc-ajax-verify",type:"POST",data:{user_email:c,user_phone:b,security:moumacvar.nonce,otp_request_type:a},crossDomain:!0,dataType:"json",success:function(d){if(d.result=="success"){$mo("#mo_message").empty(),$mo("#mo_message").append(d.message),$mo("#mo_message").css("border-top","3px solid green")}else{$mo("#mo_message").empty(),$mo("#mo_message").append(d.message),$mo("#mo_message").css("border-top","3px solid red")}},error:function(d){$mo("#mo_message").empty(),$mo("#mo_message").append(d.message),$mo("#mo_message").css("border-top","3px solid red")}})}function insertOTPField(){if(moumacvar.otpType===moumacvar.emailOtpType||moumacvar.otpType===moumacvar.bothOTPType){if($mo(".um-account [id^=user_email]").val()!==moumacvar.emailValue){$mo(otp_field).insertAfter($mo(".um-account [id^=user_email]").parent().parent())}}if(moumacvar.otpType===moumacvar.phoneOtpType||moumacvar.otpType===moumacvar.bothOTPType){if($mo(".um-profile [id^="+moumacvar.phoneKey+"]").val()!==moumacvar.phoneValue){$mo(otp_field).insertAfter($mo(".um-profile [id^="+moumacvar.phoneKey+"]").parent().parent())}}}function removeOTPField(){$mo("#mo_um_accup_button").remove();$mo(".um-acc-otp").remove();$mo("#mo_message").remove()}function focusChecks(){$mo(".um-account [id^=user_email],.um-profile [id^="+moumacvar.phoneKey+"]").on("change paste keyup",function(){if($mo(this).val()===moumacvar.phoneValue||$mo(this).val()===moumacvar.emailValue){removeOTPField()}else{if($mo(".um-acc-otp").length==0){insertOTPField()}}})}jQuery(document).ready(function(){$mo=jQuery;moumacvar.session!="0"?insertOTPField():"";focusChecks()});