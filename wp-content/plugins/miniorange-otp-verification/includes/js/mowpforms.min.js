let $mo=jQuery;$mo(document).ready(function(){$mo("div.wpforms-container").each(function(){let formId=$mo(this).attr("id").replace("wpforms-","");fieldID=mowpforms.otpType;if(formId in mowpforms.formDetails){mowpforms.otpType.forEach(function(a){addButtonAndFields(formId,a);bindSendOTPButton(formId,a);bindVerifyButton(formId,a);is_already_verified(formId,a)})}})});function is_already_verified(b,a){if(mowpforms.validated[a]){$mo("#mo_send_otp_"+a+b).val("✔").attr("disabled",true);$mo("#mo_send_otp_"+a+b).attr("style","background:green !important;width:auto;padding: 12px 5px;color: #ffffff;")}}function addButtonAndFields(b,a){let containerCSS='style="margin:0px;"';let buttonCSS='style="margin:0px;"';let messageBox='<div  class="vfb-item" id="mo_message'+a+b+'" hidden="" style="width:auto; background-color: #f7f6f7;padding: 1em 2em 1em 3.5em; text-align: center;margin-top:3px;"></div>';let verifyField='<div id="mo_verify-container'+a+b+'" hidden="" class="wpforms-field wpforms-field-text" ><label class="wpforms-field-label" for="mo_verify_otp">'+mowpforms.fieldText+'</label><input type="text" id="mo_verify_otp_'+a+b+'" class="wpforms-field-medium wpforms-field-required"name="mo_verify_otp" /></div>';let verifyOTPButton='<div id = "wpforms-submit-container'+a+b+'" class = "wpforms-submit-container" hidden="" '+containerCSS+'"><input  type = "button" name = "mo_verify_button_'+a+b+'" class = "wpforms-submit wpforms-page-button"  id = "mo_verify_button_'+a+b+'" '+buttonCSS+' value = "Verify OTP"/></div >';let sendOTPButton='<div class = "wpforms-submit-container" '+containerCSS+'><input  type = "button" name = "mo_send_otp_'+a+b+'" class = "wpforms-submit wpforms-page-button" id = "mo_send_otp_'+a+b+'"'+buttonCSS+' value = "'+mowpforms.buttontext+'"/></div >';let html=sendOTPButton+messageBox+verifyField+verifyOTPButton;$mo(html).insertAfter("#wpforms-"+b+"-field_"+mowpforms.formDetails[b][a+"key"]);$mo(fieldID).css("width","60%")}function bindSendOTPButton(b,a){img="<img alt='' src='"+mowpforms.imgURL+"'>";$mo("#mo_send_otp_"+a+b).click(function(){var c=$mo("#wpforms-"+b+"-field_"+mowpforms.formDetails[b][a+"key"]).val();$mo("#mo_message"+a+b).empty();$mo("#mo_message"+a+b).append(img);$mo("#mo_message"+a+b).show();$mo.ajax({url:mowpforms.siteURL,type:"POST",data:{user_email:c,user_phone:c,otpType:a,security:mowpforms.gnonce,action:mowpforms.gaction},crossDomain:!0,dataType:"json",success:function(d){if(d.result==="success"){$mo("#mo_message"+a+b).empty();$mo("#mo_message"+a+b).append(d.message);$mo("#mo_message"+a+b).css("border-top","3px solid green");$mo("#mo_verify-container"+a+b+",#wpforms-submit-container"+a+b).show()}else{$mo("#mo_message"+a+b).empty();$mo("#mo_message"+a+b).append(d.message);$mo("#mo_message"+a+b).css("border-top","3px solid red")}},error:function(d){}})})}function bindVerifyButton(b,a){img="<img alt='' src='"+mowpforms.imgURL+"'>";$mo("#mo_verify_button_"+a+b).click(function(){var d=$mo("#mo_verify_otp_"+a+b).val();var c=$mo("#wpforms-"+b+"-field_"+mowpforms.formDetails[b][a+"key"]).val();$mo("#mo_message"+a+b).empty();$mo("#mo_message"+a+b).append(img);$mo("#mo_message"+a+b).show();$mo.ajax({url:mowpforms.siteURL,type:"POST",data:{user_email:c,user_phone:c,otp_token:d,otpType:a,security:mowpforms.vnonce,action:mowpforms.vaction},crossDomain:!0,dataType:"json",success:function(e){if(e.result==="success"){$mo("#mo_message"+a+b).hide();$mo("#mo_verify-container"+a+b+",#wpforms-submit-container"+a+b).hide();$mo("#mo_send_otp_"+a+b).val("✔").attr("disabled",true);$mo("#mo_send_otp_"+a+b).attr("style","background:green !important;width:auto;margin:0;padding: 7px 5px;margin-top: 1px;color: #ffffff;")}else{$mo("#mo_message"+a+b).empty();$mo("#mo_message"+a+b).append(e.message);$mo("#mo_message"+a+b).css("border-top","3px solid red")}},error:function(e){}})})};