jQuery(document).ready(function(){$mo=jQuery;var c="<div style='display:table;text-align:center;'><img src='"+movars.imgURL+"'></div>";var d="<div class='form-group' style='margin-top:2%'><div class='btn-group-justified'><a class='btn btn-lg btn-green' id='miniorange_otp_token_submit' title='Please Enter a "+movars.fieldname+" to enable this.'>Verify your "+movars.fieldname+"</a></div></div><div style='margin-top:2%'><div id='mo_message' hidden='' style='background-color: #f7f6f7;padding: 1em 2em 1em 3.5em;''></div></div>";var b='<div class="form-group"><input name="mo_verify" id="mo_verify" placeholder="'+movars.placeHolder+'" class="form-control" type="text"></div>';var a='<a class="btn btn-lg btn-green" id="moSubmit">'+movars.buttonText+"</a>";$mo("#submitSignup").replaceWith(a);$mo("#moSubmit").addClass("disabled");$mo(d).insertAfter(movars.insertAfter);$mo("#miniorange_otp_token_submit").click(function(g){var f=$mo("input[name='"+movars.field+"']").val();$mo("#mo_message").empty(),$mo("#mo_message").append(c),$mo("#mo_message").show(),$mo.ajax({url:movars.siteURL+"/?option=miniorange-realeswp-verify",type:"POST",data:{user_email:f,user_phone:f},crossDomain:!0,dataType:"json",success:function(e){if(e.result=="success"){$mo("#mo_message").empty(),$mo("#mo_message").append(e.message),$mo("#mo_message").css("border-top","3px solid green"),$mo(b).insertAfter("#mo_message");$mo("#moSubmit").removeClass("disabled");$mo("input[name=mo_verify]").focus()}else{$mo("#mo_message").empty(),$mo("#mo_message").append(e.message),$mo("#mo_message").css("border-top","3px solid red"),$mo("input[name=mo_verify]").focus()}},error:function(i,h,j){}})});$mo("#moSubmit").click(function(){validateOTP()});$mo("#usernameSignup, #firstnameSignup, #lastnameSignup, #emailSignup, #phoneSignup, #pass1Signup, #pass2Signup").keydown(function(f){if(f.keyCode===13){f.preventDefault();validateOTP()}})});function validateOTP(){var a=$mo("input[name=mo_verify]").val();$mo("#moSubmit").html(services_vars.signin_loading).addClass("disabled");$mo.ajax({url:movars.siteURL+"/?option=miniorange-validate-realeswp-otp",type:"POST",data:{otp:a},crossDomain:!0,dataType:"json",success:function(c){if(c.result=="success"){userSignup()}else{var b='<div class="alert alert-danger alert-dismissible fade in" role="alert"><div class="icon"><span class="fa fa-ban"></span></div>'+c.message+"</div>";$mo("#signupMessage").empty().append(b);$mo("#moSubmit").removeClass("disabled")}},error:function(c,b,d){}})}function userSignup(){var c=$mo("#usernameSignup").val();var d=$mo("#firstnameSignup").val();var e=$mo("#lastnameSignup").val();var g=$mo("#emailSignup").val();var f=$mo("#phoneSignup").val();var i=$mo("#pass1Signup").val();var h=$mo("#pass2Signup").val();var j=$mo("#register_as_agent").is(":checked");var b=$mo("#terms").is(":checked");var k=$mo("#securitySignup").val();var a=movars.ajaxurl;$mo("#moSubmit").addClass("disabled");$mo.ajax({type:"POST",dataType:"json",url:a,data:{action:"reales_user_signup_form",signup_user:c,signup_firstname:d,signup_lastname:e,signup_email:g,signup_phone:f,signup_pass_1:i,signup_pass_2:h,register_as_agent:j,terms:b,security:k},success:function(m){$mo("#moSubmit").removeClass("disabled");if(m.signedup===true){var l='<div class="alert alert-success alert-dismissible fade in" role="alert"><div class="icon"><span class="fa fa-check-circle"></span></div>'+m.message+"</div>";$mo("#signup").modal("hide");$mo("#signin").modal("show").on("shown.bs.modal",function(n){$mo("#signinMessage").empty().append(l)})}else{var l='<div class="alert alert-danger alert-dismissible fade in" role="alert"><div class="icon"><span class="fa fa-ban"></span></div>'+m.message+"</div>";$mo("#signupMessage").empty().append(l)}},error:function(l){}})};